---
title: "Lima"
date: 2025-05-13T19:53
tags: lima containers macos
---

On macOS, both podman and docker run their containers in a Linux VM. There's another project in this space, named
_"Lima"_, so I thought I'd have a play with it.

Lima allows you to spin up a Linux VM, using containerd to run containers in it.

```sh
brew install lima
```

`limactl start` -- an Ubuntu by default. `lima` to connect. 

```
$ lsb_release  -a
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 23.10
Release:	23.10
Codename:	mantic
```

It mounts your current directory. SSH agent forwarding by default? Yep. So already better than podman.

It has nerdctl installed already.

`nerdctl build` uses buildkit, same as docker. This is why it looks like docker. Recall that you can set
BUILDKIT_PROGRESS=plain for docker.

Docker seem to have given all of their stuff to the CNCF, so there's ... what ... left?

You can use it as the backend for podman, or something:
<https://github.com/ReToCode/local-cluster-setup/blob/main/lima/podman-vz.yaml>

Could we (should we?) just use buildkit directly? Does it need a docker daemon? Would it be better than podman? Why use
podman at all?

## Links

- <https://lima-vm.io/docs/config/multi-arch/>
- <https://medium.com/nttlabs/containerd-v2-0-nerdctl-v2-0-lima-v1-0-93026b5839f8>
